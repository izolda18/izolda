import pygame
import math
import random

pygame.init()
screen = pygame.display.set_mode((800, 600), pygame.RESIZABLE)
pygame.display.set_caption("Солнечная система")
WIDTH, HEIGHT = 800, 600
cx = WIDTH // 2
cy = HEIGHT // 2   
FPS = 60
clock = pygame.time.Clock()

pygame.mixer.init()
pygame.mixer.music.load("gala.mp3")
pygame.mixer.music.play(-1) 
score_sound = pygame.mixer.Sound("zvezda.wav")  

zv = pygame.image.load("zv.png").convert_alpha()
zv = pygame.transform.scale(zv, (60, 60))
soln = pygame.image.load("soln.png").convert_alpha()
soln = pygame.transform.scale(soln, (40, 40))

class Planet:
    def __init__(self, radius, orbit_radius, speed=0, image_path=None):
        self.radius = radius
        self.orbit_radius = orbit_radius
        self.speed = speed
        self.angle = 0
        self.x = 0
        self.y = 0
        self.image = None
        if image_path:
            self.image = pygame.image.load(image_path).convert_alpha()
            self.image = pygame.transform.scale(self.image, (radius*2, radius*2))

    def update(self, dt):
        self.angle += self.speed * dt
        self.x = cx + self.orbit_radius * math.cos(self.angle)
        self.y = cy + self.orbit_radius * math.sin(self.angle)

    def draw(self):
        if self.image:
            screen.blit(self.image, (int(self.x - self.radius), int(self.y - self.radius)))
        else:
            pygame.draw.circle(screen, (255, 255, 255), (int(self.x), int(self.y)), self.radius)

class Lun:
    def __init__(self, planet, radius, orbit_radius, speed=0, image_path=None):
        self.planet = planet
        self.radius = radius
        self.orbit_radius = orbit_radius
        self.speed = speed
        self.angle = 0
        self.x = 0
        self.y = 0
        self.image = None
        if image_path:
            self.image = pygame.image.load(image_path).convert_alpha()
            self.image = pygame.transform.scale(self.image, (radius*2, radius*2))

    def update(self, dt):
        self.angle += self.speed * dt
        self.x = self.planet.x + self.orbit_radius * math.cos(self.angle)
        self.y = self.planet.y + self.orbit_radius * math.sin(self.angle)

    def draw(self):
        if self.image:
            screen.blit(self.image, (int(self.x - self.radius), int(self.y - self.radius)))
        else:
            pygame.draw.circle(screen, (200, 200, 200), (int(self.x), int(self.y)), self.radius)


merku = Planet(radius=10, orbit_radius=56, speed=1.4, image_path="merku.png")
venera = Planet(radius=17, orbit_radius=80, speed=1.5, image_path="venera.png")
ze = Planet(radius=20, orbit_radius=120, speed=1, image_path="ze.png")
mars = Planet(radius=8, orbit_radius=180, speed=0.6, image_path="mars.png")
yupiter = Planet(radius=35, orbit_radius=264, speed=0.4, image_path="yupiter.png")
sa = Planet(radius=30, orbit_radius=310, speed=0.2, image_path="sa.png")
uran = Planet(radius=25, orbit_radius=360, speed=0.1, image_path="uran.png")
neptu = Planet(radius=25, orbit_radius=414, speed=0.047, image_path="neptu.png")

lun = Lun(ze, radius=5, orbit_radius=25, speed=3, image_path="lun.png")


asteroids = []
for i in range(100):
    radius = random.uniform(2, 6)
    orbit_radius = random.uniform(190, 220)
    speed = random.uniform(0.1, 0.3)
    image_path = "asteroid.png"
    asteroids.append(Planet(radius, orbit_radius, speed, image_path))


running = True
while running:
    dt = clock.tick(FPS) / 1000.0
    mouse_x, mouse_y = pygame.mouse.get_pos()
    
    
    merku.update(dt)
    venera.update(dt)
    ze.update(dt)
    mars.update(dt)
    yupiter.update(dt)
    sa.update(dt)
    uran.update(dt)
    neptu.update(dt)
    lun.update(dt)
    
    for asteroid in asteroids:
        asteroid.update(dt)

    screen.fill((0, 0, 0))
     
    screen.blit(soln, (cx-20,cy-20))
    
    
    for asteroid in asteroids:
        asteroid.draw()
    
    merku.draw()
    venera.draw()
    ze.draw()
    mars.draw()
    yupiter.draw()
    sa.draw()
    uran.draw()
    neptu.draw()
    lun.draw()


    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
        elif event.type == pygame.VIDEORESIZE:
            WIDTH, HEIGHT = event.w, event.h
            screen = pygame.display.set_mode((WIDTH, HEIGHT), pygame.RESIZABLE)
            cx = WIDTH // 2
            cy = HEIGHT // 2  
        elif event.type == pygame.MOUSEBUTTONDOWN:
            if event.button == 1:
                screen.blit(zv, (int(mouse_x)-25,int(mouse_y)-25))
                score_sound.play()
    
    pygame.display.flip()

pygame.quit()

     